extends layouts/main
include mixins/videoPlayer
block content
  .video-detail
    +videoPlayer({
      src: video.fileURL
    })
    .video-info
      if loggedUser && video.creator.id === loggedUser.id
        a(href=routes.editVideo(video.id)) 
          button Edit video
      h5.video-info__title=video.title
      p.video-info__description=video.description
      if video.views === 1
        span.video-info__views 1view
      else
        span.video-info__views #{video.views} views
      .video-info__auth
        |Uploaded by 
        a(href=routes.userDetail(video.creator.id))=video.creator.name
    .video-comments
      if video.comments.length === 1
        span.video-comments__number
          span#jsCommentNumber 1
          |comment
      else
        span.video-comments__number
          span#jsCommentNumber #{video.comments.length}
          |comments
      form.add__comment#jsAddComment
        input(type="text", placeholder="Add a comment")
      ul.video__comments-list#jsCommentList
        each comment in video.comments.reverse()
          li
            span=comment.text
